ğŸ§ª æ¥ä¸‹ä¾†æ­¥é©Ÿ
æˆ‘æœƒä¸€æ­¥æ­¥æ•™ä½ ï¼Œä¸æœƒè·³ä¾†è·³å»ï¼š

ğŸ”§ æ­¥é©Ÿ 1ï¼šå»ºç«‹å°ˆæ¡ˆèˆ‡ App
æ‰“é–‹ä½ çš„çµ‚ç«¯æ©Ÿï¼ˆæˆ– Colab Terminal / Replitï¼‰ï¼š

bash
è¤‡è£½
ç·¨è¼¯
django-admin startproject myshop
cd myshop
python manage.py startapp store
ç„¶å¾Œåœ¨ settings.py è£¡åŠ å…¥ï¼š

python
è¤‡è£½
ç·¨è¼¯
INSTALLED_APPS = [
    ...
    'store',
]
ğŸ”§ æ­¥é©Ÿ 2ï¼šå»ºç«‹ Modelsï¼ˆè³‡æ–™æ¨¡å‹ï¼‰
åœ¨ store/models.py è£¡åŠ ï¼š

python
è¤‡è£½
ç·¨è¼¯
from django.db import models
from django.contrib.auth.models import User

# ä½¿ç”¨è€…æ“´å……ï¼šé»æ•¸éŒ¢åŒ…
class Profile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE)
    points = models.IntegerField(default=0)

    def __str__(self):
        return f"{self.user.username} - {self.points} points"

# å•†å“
class Product(models.Model):
    name = models.CharField(max_length=100)
    description = models.TextField(blank=True)
    price = models.IntegerField()  # é»æ•¸åƒ¹æ ¼

    def __str__(self):
        return f"{self.name} ({self.price} pts)"

# è³¼è²·ç´€éŒ„
class Purchase(models.Model):
    user = models.ForeignKey(User, on_delete=models.CASCADE)
    product = models.ForeignKey(Product, on_delete=models.CASCADE)
    time = models.DateTimeField(auto_now_add=True)

    def __str__(self):
        return f"{self.user.username} bought {self.product.name}"
ğŸ”§ æ­¥é©Ÿ 3ï¼šå»ºç«‹è³‡æ–™åº«
bash
è¤‡è£½
ç·¨è¼¯
python manage.py makemigrations
python manage.py migrate
ç„¶å¾Œå»ºç«‹è¶…ç´šä½¿ç”¨è€…ï¼ˆç®¡ç†å¾Œå°ï¼‰ï¼š

bash
è¤‡è£½
ç·¨è¼¯
python manage.py createsuperuser
ğŸ”§ æ­¥é©Ÿ 4ï¼šè‡ªå‹•å»ºç«‹ Profileï¼ˆé»æ•¸ï¼‰
åœ¨ store/signals.py åŠ å…¥ï¼š

python
è¤‡è£½
ç·¨è¼¯
from django.db.models.signals import post_save
from django.dispatch import receiver
from django.contrib.auth.models import User
from .models import Profile

@receiver(post_save, sender=User)
def create_profile(sender, instance, created, **kwargs):
    if created:
        Profile.objects.create(user=instance)
å†åœ¨ store/apps.py è£¡ï¼š

python
è¤‡è£½
ç·¨è¼¯
def ready(self):
    import store.signals
ğŸ”§ æ­¥é©Ÿ 5ï¼šè¨»å†Š admin å¾Œå°
åœ¨ store/admin.py åŠ å…¥ï¼š

python
è¤‡è£½
ç·¨è¼¯
from django.contrib import admin
from .models import Product, Purchase, Profile

admin.site.register(Product)
admin.site.register(Purchase)
admin.site.register(Profile)
ğŸ”§ æ­¥é©Ÿ 6ï¼šå»ºç«‹ Views èˆ‡ Templatesï¼ˆç•«é¢ï¼‰
é€™é‚Šæˆ‘ä¸‹å€‹éšæ®µå¹«ä½ å¯« views.py å’Œç°¡å–®çš„ templates/ ç•«é¢æµç¨‹ã€‚
